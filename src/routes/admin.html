<svelte:head>
  <title>{$_('appName')}: {$_('nav.admin')}</title>
</svelte:head>

<h1>{$_('admin.title', {appName: $_('appName')})}</h1>

<RequireAuth>
  <!-- Just have all these on one page seperate components forms with submit buttons -->
  {#if $showLessonSummaryForm}
  <LessonSummaryForm />
  {:else}
  <button on:click="$set({showLessonSummaryForm:true})">{$_('admin.newLesson')}</button>
  {/if}

  <br>
  {#if $showNewMaterialForm}
  <AddMaterialForm />
  {:else}
  <button on:click="$set({showNewMaterialForm:true})">{$_('admin.newMaterial')}</button>
  {/if}

  <br>
  {#if $showAddGroupForm}
  <AddGroupForm />
  {:else}
  <button on:click="$set({showAddGroupForm: true})">{$_('admin.addGroup')}</button>
  {/if}

  <br>
  {#if $showAddUserForm}
  <AddUserForm />
  {:else}
  <button on:click="$set({showAddUserForm: true})">{$_('admin.newUser')}</button>
  {/if}

</RequireAuth>

<script>
  export default {
    components: {
      RequireAuth: "../components/RequireAuth.html",
      LessonSummaryForm: "../components/LessonSummaryForm.html",
      AddMaterialForm: "../components/AddMaterialForm.html",
      AddGroupForm: "../components/AddGroupForm.html",
      AddUserForm: '../components/AddUserForm.html'
    },
    data() {
      return {
        showNewMaterialForm: false,
        showAddGroupForm: false,
        showCreateNewUserForm: false
      }
    }
  };
</script>